<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strings</title>
</head>
<body>
    <script>
//string compression

    //Brute force

    //If input is string

        // function stringCompression(str) {
        //     if (str.length === 0) return '';

        //     let n = str.length;
        //     let result = '';
        //     let count = 1;

        //     for (let i = 0; i < n; i++) {
        //         if (i === 0) result += str[i];
        //         else if (str[i - 1] === str[i]) {
        //             count++;
        //         } else {
        //             if (count > 0) result += count;
        //             result += str[i];
        //             count = 1;
        //         }
        //         if (i === (n - 1) && count > 0) result += count;
        //     }
        //     // console.log(result)
        //     return result;
        // }

        // console.log(stringCompression('zzzfgga'))

    //If input is an array

        //     function stringCompression(arr) {
        //     if (arr.length === 0) return [];

        //     let n = arr.length;
        //     let count = 1;
        //     let mainLength = 1;

        //     for (let i = 1; i < n; i++) {
        //         if (arr[i - 1] === arr[i]) {
        //             count++;
        //         } else {
        //             if (count > 1) {
        //                 let index = i - count;
        //                 let strCount1 = count.toString();

        //                 for (let j = 0; j < strCount1.length; j++) {
        //                     arr[++index] = strCount1[j];
        //                     mainLength++;
        //                 }

        //                 arr[++index] = arr[i];
        //                 mainLength++;
        //                 count = 1;
        //             } else {
        //                 mainLength++;
        //                 count = 1;
        //             }
        //         }

        //         // Handle the last sequence
        //         if (i === n - 1) {
        //             if (count > 1) {
        //                 let index = i - count + 1;
        //                 let strCount1 = count.toString();

        //                 for (let j = 0; j < strCount1.length; j++) {
        //                     arr[++index] = strCount1[j];
        //                     mainLength++;
        //                 }
        //             }
        //         }
        //     }

        //     arr.length = mainLength;
        //     return arr;
        // }

        // console.log(stringCompression(["a","a","b","b","b","b","b","b","b","b","b","b","b","b","c","f","f","f"]))
        // WRONG RESULT

    //Optimal Approach

        function compress(arr) {
            if (arr.length === 0) return [];

            let n = arr.length;
            let index = 0;
            let i = 0;

            while (i < n) {
                let count = 0, currentElement = arr[i];

                while (i < n && arr[i] === currentElement) {
                        count++;
                        i++;
                }

                arr[index] = currentElement;
                index++;

                if(count > 1) {
                    let strCount = String(count);

                    for (let char of strCount) {
                        arr[index] = char;
                        index++
                    }
                }          
                
            }
           
            arr.length = index;
            return arr;
        }

        console.log(compress(["a","a","b","b","b","b","b","b","b","b","b","b","b","b","c","c","c"]))

        
    </script>
</body>
</html>