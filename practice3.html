<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Practice 2</title>
  </head>
  <body>
    <h1>Second JavaScript Docs Practice</h1>
    <script type="module">

    //prompt untill correct

            // let value;
            // do{
            //     value = prompt('enter a number', '');
            // }while(value <= 100 && value)

            //printing prime numbers

            // function printPrime(x) {
            //     let till = x;
            //     let allPrimes = [];

            //     nextPrime: for (let i = 2; i <= till; i++) {
            //         for (let j = 2; j < i; j++) {
            //             if (i % j == 0) continue nextPrime;
            //         }

            //         allPrimes.push(i);
            //     }

            //     return  allPrimes
            // }

            // console.log(printPrime(6));

    //Switch case

            // let d = 2 + 2;
            // switch (d) {
            //     case 4:
            //     console.log("Done");
            //     break;

            //     case 12:
            //         console.log("large");
            //         console.log("Extra Large");
            //         break;

            //     default:
            //         console.log('Not Defined');
            // }

            // let a = 2 + 8;

            // switch (a) {
            //     case 6:
            //     console.log("small");
            //     break;

            //     case 8: {
            //         console.log("medium");
            //         break;
            //     }

            //     case 10:
            //     // no break given execution will go long
            //     case 12:
            //         console.log("large");
            //         console.log("Extra Large");
            //         break;

            //     default:
            //         console.log('Not Defined');
            // }

            // let b = "1";
            // let c = 0;

            // switch (+b) {
            //     case c + 1:
            //         console.log("it is fine as c = 0");
            //         break;

            //     default:
            //         console.log("Not defined");
            // }

            // let value = prompt("give your value");

            // switch (value) {
            //     case '1':
            //     case '2':
            //         console.log("entered 1 or 2");
            //         break;

            //     case 3:
            //         console.log("never executed");
            //         break;

            //     default:
            //         console.log("An unknown value");
            //  }

            //  switch (+value) {
            //     case '1':
            //     case '2':
            //         console.log("Never execute");
            //         break;

            //     case 3:
            //         console.log("entered 3");
            //         break;

            //     default:
            //         console.log("An unknown value");
            //  }

        //Task 1

            //   let browser = "Chrome";

            //   switch (browser) {
            //     case "Edge":
            //       alert("You've got the Edge!");
            //       break;

            //     case "Chrome":
            //     case "Firefox":
            //     case "Safari":
            //     case "Opera":
            //       alert("Okay we support these browsers too");
            //       break;

            //     default:
            //       alert("We hope that this page looks ok!");
            //   }

            //   console.log("if conversion");

            //   if (browser === "Edge") {
            //     console.log("You have got Edge!");
            //   } else if (
            //     browser === "Chrome" ||
            //     browser === "Firefox" ||
            //     browser === "Safari" ||
            //     browser === "Opera"
            //   ) {
            //     console.log("Okay we supoort this browser too");
            //   } else {
            //     console.log("We hope that this page looks ok!");
            //   }

        //Task 2

            //   let a = +prompt('a?', '');

            //     if (a == 0) {
            //         alert( 0 );
            //     }
            //     if (a == 1) {
            //         alert( 1 );
            //     }

            //     if (a == 2 || a == 3) {
            //         alert( '2,3' );
            //     }

            //   //Switch conversion

            //     switch (a) {
            //         case 0:
            //             console.log(0);
            //             break;
                    
            //         case 1:
            //             console.log(1);
            //             break;

            //         case 2:
            //         case 3:
            //             console.log("2,3");
            //             break;
            //     }

    //Functions

        //Inner variable shadows the outer same name variable

            // let name = "Shivendra";
            
            // function family() {
            //     let name = "Sahil";

            //     console.log("hi", name, "by family");
            // }

            // family();
            // console.log("hi", name, "by world");

        //variable modification by function

            // let designation = "Software Engineer";
            // let tobePassed = "outter";
            // let obj = {
            //   name : "Shivendra Dwivedi",
            // }

            // function change(x, obj2) {
            //   designation = "Yes I'm a Software Engineer";
            //   obj2.name = "Sahil";

            //   let given = x;
            //   given = "Inner";
            // }

            // change(tobePassed, obj);
            // console.log(designation); //Changed 
            // console.log(tobePassed); //Not changed
            // console.log(obj.name); //Changed because Objects are passed by reference

        //DEFAULT VALUE

            // function see(x, y = 1) {
            //   let sum = x + y;
            //   console.log(y)
            //   console.log(sum);
            // }

            // see(5, null)  // sum: 5, as null = 0; (w/o default param)
            // see(5, undefined) // NaN, as undefined = NaN (w/o default param)
            // see(6) // NaN, as y = undefined (w/o default param)

            // see(5, null)  // sum: 5, as null = 0; (with default param)
            // see(5, undefined) // 5, as undefined so y = 1 (with default param)
            // see(6) // 1, as y = 1 (with default param)

            // function againDefault(x) {
            //   if (x === undefined) {
            //     x = "Not given";
            //   }

            //   console.log(x);
            // }

            // console.log(againDefault("Hi i have given"))
            // console.log(againDefault());

            // function used() {
            //   console.log("called");
            //   return 8;
            // }    

            // function cal(x, y = used()) {
            //   let sum = x + y;

            //   console.log(sum);
            // }

            // cal(4,5); //used wont be called
            // cal(5); //used will be called 
            
            // function againDefault2(x) {
            //   if (!x) {
            //     x = "Not given";
            //   }

            //   console.log(x);
            // }

            // console.log(againDefault2("Hi i have given"))
            // console.log(againDefault2(0)); //0 is a falsy value that why skipped

            //solution

            // function againDefault3(x) {
            //   console.log(x ?? "null or undefined");
            // }

            // console.log(againDefault3("Hi i have given"))
            // console.log(againDefault3(0))
            // console.log(againDefault3());

          //task 2

            // function checkAge1(age) {
            //   return (age > 18) ? true : confirm("Did parents allow you?");
            // }

            // function checkAge2(age) {
            //   return age > 18 || confirm("Did parents allow you?");
            // } 

            // function checkAge3(age) {
            //   if (age > 18) {
            //     return true;
            //   }

            //   return confirm("Did prarents allow you?");
            // } 

            // console.log(1, checkAge1(50));
            // console.log(2, checkAge2(55))
            // console.log(3, checkAge3(5))
          
          //task 4

            // function pow(x, n) {
            //   let base = x;

            //   if (n < 1) {
            //     console.error(n, "is not supported please use positive value");
            //     return;
            //   } else {
            //     for (let i = 1; i < n; i++) {
            //         base *= x;
            //     }
            //   }

            //   return base;
            // }

            // console.log(pow(4, 2))

          //function name can be overriden
          
            // function random() {
            //   return "hi";
            // }

            // random = function() {
            //   return 'bye';
            // }

            // random = "hello";

            // console.log(random()); //error
            // console.log(random); //hello
          
            // welcome(

            // let value = prompt("age", 18);

            // if (value > 18) {
            //   function welcome() {
            //     console.log("Hello!");
            //   }
            // } else {
            //   function welcome() {
            //     console.log("greetings!")
            //   }
            // }

            // welcome();

            // let horra;

            // if (value > 18) {
            //   horra = function() {
            //     console.log("horra");
            //   }
            // } else {
            //   horra = function() {
            //     console.log("Chotta")
            //   }
            // }

            // horra()

        //Var keyword scope, and without any keyword

            // var a = "Shivendra"; //will be added to the global/window object

            // function scoped() {
            //   var b = "Sahil"; //will exist only inside the function wont be the part of the global/window object
            // }
            // scoped();

            // console.log(window.a);
            // console.log(window.b);

            // c = "w/o prefix out";

            // function scoped2() {
            //   d = "w/o prefix in";
            // }
            // scoped2();

            // console.log(window.c);
            // console.log(window.d);

            // let var_able = "";
            // let $ = '';
            // let _ = "";
            
            // let $hi = "";
            // let _ho = "";

              // let value = prompt("value", 'h');
              // console.log(value);

        //Objects in JS

              // let obj1 = {
              //   0 : "Shivendra",
              //   1 : "Dwivedi",
              // }

              // console.log(obj1[0]);
              // console.log(obj1[1]);
              // console.log(obj1["0"]);

              // let obj2 = {
              //   5 : "one",
              //   4 : "Two",
              //   3 : "three",
              //   2 : "Four",
              //   1 : "Five",
              // }

              // for (let key in obj2) {
              //   console.log(key)
              // }

              // let obj3 = {
              //   four : "1",
              //   three : "3",
              //   two : "2",
              //   one : "1",
              // }

              // for (let key in obj3) {
              //   console.log(key)
              // }

              // delete obj3.one;

              // for (let key in obj3) {
              //   console.log(key)
              // }

              // let arr1 = ["shiv", "sahil", "me", "ritik"]
              // delete arr1[2];

              // console.log(arr1.length);
              // for (let index of arr1) {
              //   console.log(index);
              // }

          //Check if empty

          //   let obj4 = {};

          //   function isEmpty() {
          //     for (let key in obj4) {
          //       return false;
          //     }

          //     return true;
          //   }
            
          //   console.log(isEmpty(obj4));

          //   obj4["one"] = "First";

          //   console.log(isEmpty(obj4));

          // // Sum object Properties

          //   let salaries = {
          //     John : 100,
          //     ann : 300,
          //     Vic : 400,
          //     last : 500.
          //   }

          //   let obj5 = {}

          //   function sumUp(obj) {
          //     let sum = 0;

          //     for (let key in obj) {
          //       sum += obj[key];
          //     }

          //     return sum;
          //   }

          //   console.log(sumUp(salaries));
          //   console.log(sumUp(obj5));

          // //Multiplyer
            
          //   let obj6 = {
          //     width : 200,
          //     height : 300,
          //     name : "Building",
          //   }

          //   function multiplyer(obj) {
          //     for (let key in obj) {
          //       if (typeof obj[key] === 'number') {
          //         obj[key] *= 2;
          //       }
          //     }
          //   }
          //   multiplyer(obj6)

          //   console.log(obj6);

        //Function to clone an object deeply

          function cloneObject(obj) {
            let clone = {};

            for (let key in obj) {
              if (typeof obj[key] === 'object') {
                clone[key] = cloneObject(obj[key]);
              } else {
                clone[key] = obj[key];
              }
            }

            return clone;
          }

          let obj7 = {
            one : "Shivendra",
            two : "Sahil",
            three : "Ritik",
            four : {
              age : 26,
              employment : "unemployed",
              when : "very soon",
            },
          }

          // let clonedObj = cloneObject(obj7);
          // console.log(clonedObj); 
          // console.log(clonedObj.four === obj7.four)

          // let clonedObj2 = Object.assign({}, obj7);
          // console.log(clonedObj2.four === obj7.four)

          // let clonedObj3 = structuredClone(obj7)
          // console.log(clonedObj3.four === obj7.four)

          let obj8 = {
            one : "Shivendra",
            two : "Sahil",
            three : "Ritik",
            four : {
              age : 26,
              employment : "unemployed",
              when : "very soon",
            },
            five : function() {
                console.log("hi");
            }
          }

          // let clonedObj4 = cloneObject(obj8);
          // console.log(clonedObj4); 
          // console.log(clonedObj4.five === obj8.five)

          // let clonedObj5 = Object.assign({}, obj8);
          // console.log(clonedObj5.five === obj8.five)

          // let clonedObj6 = structuredClone(obj8) // Error on function value
          // console.log(clonedObj6.five === obj8.five)

      // Object performing tasks
          
          let calculation = {
            a : null,
            b : null,

            sum() {
              return this.a + this.b;
            },

            mul() {
              return this.a * this.b;
            },

            read() {
              this.a = +prompt("Number One: ", 0);
              this.b = +prompt("Number Two: ", 0);
            }
          }

          // calculation.read();
          // console.log(calculation.sum());
          // console.log(calculation.mul());

      // Laddr object making it chainable

          let ladder = {
            step: 0,
            up() {
              this.step++;
              return this;
            },
            down() {
              this.step--;
              return this;

            },
            showStep: function() { // shows the current step
              alert( this.step );
              return this;
            }
          }; 

          // ladder.up().up().down().showStep().down().showStep();

      //Constructor function

          function CreateObj(name, age) {
            this.name = name;
            this.age = age;

            if (new.target){
              console.log("Called with new")
            } else {
              console.log("Called without new");
            }

            this.show = function() {
              console.log(this.name, this.age);
            };
          }

          // let newObject = new CreateObj("Shivendra" , 26);
          // newObject.show();

          function CreateObj2() {
            this.name = "second function";

            console.log("called")
          }

          // let newObject2 = CreateObj2(); //Cant set name to undefined, 
          // let newObject3 = new CreateObj2; // worked

          let newObject4 = new function() {
            this.name = "Shiv";
            this.age = 26;

            this.show = function() {
              console.log(this.name, this.age);
            }
          }

          // newObject4.show();

          function CreateObj3() {
            this.name = "sahil";

            return;
          }

          // let newObject5 = new CreateObj3();
          // console.log(newObject5.name); // Created object is returned instead of undefined

          function CreateObj4() {
            this.name = "sahil";

            return {name : "Ritik"};
          }

          // let newObject6 = new CreateObj4();
          // console.log(newObject6.name); // Custom object returned

        //Tasks

          // new A() === new B()

          let obj = {name : "Hi"}

          function A() {
            return obj;
          }

          function B() {
            return obj
          }

          // console.log(new A() === new B()); // True

      // Symbol key

          // let id = Symbol();
          

          // let obj2 = {
          //   [id] : "Shivendra",
          //   [Symbol()] : "Dwivedi",
          // }

          // obj2['id'] = "Ritik";

          // console.log(obj2);

          // // for (let key in obj2) {
          // //   console.log(obj[key]);
          // // } // doesn't get anything "undefined"

          // console.log(Object.getOwnPropertySymbols(obj2));

          // let id2 = Symbol("id2");

          // console.log(id2);
          // // alert(id2); // Cant convert a Symbol value to string

          // // alert(id2.description)

          // let symbolKeys = Object.getOwnPropertySymbols(obj2);

          // for (let key of symbolKeys) {
          //   console.log(obj2[key])
          // }

          // let id3 = Symbol.for("id3");
          // let id4 = Symbol.for("id3");

          // console.log(id3 === id4); //true

          // let kwy1 = Symbol.keyFor(Symbol.for("id3"));
          // console.log(kwy1)

    // Destructuring assignment 

      let obj5 = {
         title : "Shivendra",
      };

      let { width: w = defaultME(), title } = obj5;
      // console.log(w, title);

      function defaultME() {
        return 56;
      }

      const obj6 = {
        name : "Shivendra",
        age : 26,
        address : {
          streat : "Triveni Nagar",
          House_Num : "91/741"
        },
        married : "Unmarried",
      }

      const {
        name,
        age,
        address: {
          streat,
          House_Num
        },
        married
      } = obj6;

      console.log(name, age, streat, House_Num, married);
      let num = 91;
      console.log(num.toString())

      let salaries = {
        "john" : 3000,
        "Pete" : 4000,
        "Mary" : 5000,
      }

      function maxSalary(obj) {
        let maxSalary = -Infinity;
        let maxSalaryPerson = "";
        let entries = Object.entries(obj);

        for (let [key, value] of entries) {
          if (maxSalary < value) {
            maxSalary = value;
            maxSalaryPerson = key;
          }
        }

        return maxSalaryPerson;
      }

      console.log(maxSalary(salaries));

      </script>
  </body>
</html>
