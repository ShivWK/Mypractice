<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FE Interview Questions</title>
</head>
<body>
    <h1>Front-End Interview Questions Practice</h1>
    <script type="module">

    //Object.create() Method

        // let obj1 = {
        //     name : "Shivendra",
        //     age: 26,
        //     address: "91/741"
        // }

        // let obj2 = {
        //     type: {
        //         value: "Human"
        //     },
        //     race: {
        //         value: "fair"
        //     },
        //     show : {
        //         hi : "Helllo"
        //     }
        // }

        // let obj3 = Object.create(obj1, obj2);
        // console.log(obj3)
        // console.log(obj3.__proto__);

    // Freezing an object having nested object

        // let obj = {
        //     name : "Shivendra",
        //     address: {
        //         streat: "Triveni Nagar",
        //     }
        // }

        // Object.freeze(obj);

        // console.log(obj.address.streat = "Fetehpur");
        // console.log(obj.address.streat); // "Fetehpur" (Nested not freezed)

        // function freezeIt(val) {
        //     Object.keys(val).forEach(element => {
        //         if (typeof val[element] === 'object') {
        //             Object.freeze(val[element]);
        //         }
        //     });

        //     Object.freeze(val);
        // }

        // freezeIt(obj);
        // obj.address.streat = "Fetehpur";
        // console.log(obj.address.streat);

        // obj.name = "Ritik";
        // console.log(obj.name);

// Show callback  hell and how promises prevents it

        // function getUser(UserId, callback) {
        //     setTimeout(()=> {
        //         //User fetched
        //         console.log("User fetched");
        //         callback({id : UserId, name: "Shivendra"});
        //     }, 1000)
        // }

        //We need to show the posts of the user

        // function getPost(userId, callback) {
        //     setTimeout(()=> {
        //         //Post fetching
        //         console.log("Posts fetched");
        //         callback([1, 2, 3]);
        //     }, 1000)
        // }

        // //We need to show the commments on those posts

        // function getComments(postId, callback) {
        //     setTimeout(()=> {
        //         //Fetching the comments
        //         console.log("Comments fetched")
        //         callback({commentId: 1, text : "very nice!"});
        //     }, 1000)
        // }

        // Use
        // getUser(1, (user) => {
        //     console.log(user.name);
        //     getPost(user.id, (postId)=> {
        //         console.log("Carousel post");
        //         getComments(postId, (comment)=>{
        //             console.log(comment.text);
        //         })
        //     })
        // })

    // Solution using promise

        // function getUser(UserId) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(()=> {
        //             //User fetched
        //             console.log("User fetched");
        //             resolve({id: UserId, name : "Shivendra"});
        //         }, 1000)
        //     })
        // }

        // //We need to show the posts of the user

        // function getPost(userId) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(()=> {
        //             //Post fetching
        //             console.log("Posts fetched");
        //             const errorOccured = true;

        //             if(errorOccured) {
        //                 const error = new Error("Error Occured");
        //                 reject(error);
        //             }

        //             resolve([1, 2, 3]);
        //         }, 1000)
        //     })
        // }

        // //We need to show the commments on those posts

        // function getComments(postId) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(()=> {
        //             //Fetching the comments
        //             console.log("Comments fetched");
        //             resolve({commentId: 1, text : "very nice!"});
        //         }, 1000)
        //     })
        // }

        // // Use
        // getUser(1)
        // .then(data => {
        //     console.log(data.name);
        //     return getPost(data.id);
        // })
        // .then(PostIds => {
        //     console.log("Carousel Post");
        //     return getComments(PostIds);
        // })
        // .then(data => {
        //     console.log(data);
        // }) 
        // .catch(err => {
        //     console.log(err.message);
        // })

        // After this show them , how this can br refectored with async/await.

    // carousel code examples

        // Resolving promise
    //     let promise1 = new Promise(function(resolve, reject) {
    //         setTimeout(() => resolve("Done"), 1000);
    //     })

    //     // Rejecting promise
    //     let promise2 = new Promise(function(resolve, reject) {
    //         setTimeout(() => reject(new Error("Error occured")), 1000);
    //     })

    //     // callback hell and solve by promises

    //     // Callback hell
    //     setTimeout(() => {
    //         console.log("Task 1 done");
    //         setTimeout(() => {
    //             console.log("Task 2 done");
    //             setTimeout(() => {
    //                 console.log("Task 3 done");
    //             }, 1000);
    //         }, 1000);
    //     }, 1000);


    //    // Promise-based solution to avoid callback hell
    //     function asyncTask(msg, delay) {
    //         return new Promise((resolve) => {
    //             setTimeout(() => {
    //                 console.log(msg);
    //                 resolve();
    //             }, delay);
    //         });
    //     }

    //     asyncTask("Task 1 done", 1000)
    //         .then(() => asyncTask("Task 2 done", 1000))
    //         .then(() => asyncTask("Task 3 done", 1000));

    //     // Promise.then()

    //     promise.then(
    //         result => console.log("Resolved:", result),
    //         error => console.log("Rejected:", error) // optional
    //     );

    //     //Promise.catch()
    //     promise
    //         .then(result => console.log("Resolved:", result))
    //         .catch(error => console.error("Error:", error));

    //     //then.finally()

    //     promise
    //         .then(res => console.log("Resolved:", res))
    //         .catch(err => console.log("Rejected:", err))
    //         .finally(() => console.log("Always runs"));

    //     // Promise Chaining

    //     loginUser("shivendra", "1234")
    //         .then(user => fetchProfile(user.id))
    //         .then(profile => showDashboard(profile))
    //         .catch(err => console.error("❌", err.message))
    //         .finally(() => console.log("Done"));

        // Promise.resolve(), .reject()

        // function fetchUserData(success) {
        //     if (success) {
        //         return Promise.resolve({ name: "Shivendra" });
        //     } else {
        //         return Promise.reject(new Error("User not found"));
        //     }
        // }

        // fetchUserData(true)
        // .then(data => console.log("User:", data.name)) // User: Shivendra
        // .catch(err => console.error("Error:", err)); // won't execute

        // fetchUserData(false)
        // .then(data => console.log("User:", data.name)) // won't execute
        // .catch(err => console.error("Error:", err.message)); // Error: User not

        // Promise.all, .allSettled, .race, .any

        // const P1 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P1 resolved"), 3000);
        // });

        // const P2 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P2 resolved"), 1000);
        // });

        // const P3 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P3 resolved"), 2000);
        // });

        //Promise.all()
        // Promise.all([P1, P2, P3]) // Either all resolved or 1st failed
        // .then(result => console.log(result)) // ["P1 resolved", "P2 resolved", "P3 resolved"]
        // .catch(err => console.log(err.message));

        // const P4 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P4 resolved"), 3000);
        // });

        // const P5 = new Promise((resolve, reject) => {
        //     setTimeout(()=> reject("P5 rejected"), 1000);
        // });

        // const P6 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P6 resolved"), 2000);
        // });
        
        // Promise.allSettled
        // Promise.allSettled([P4, P5, P6]) // All Settled
        // .then(result => console.log(result)) // An array of objects having "status", "value/reason".
        // [
        //   { status: 'fulfilled', value: 'P4 resolved' },
        //   { status: 'rejected', reason: 'P5 rejected' },
        //   { status: 'fulfilled', value: 'P6 resolved' }
        // ]

        // const P7 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P7 resolved"), 3000);
        // });

        // const P8 = new Promise((resolve, reject) => {
        //     setTimeout(()=> reject("P8 rejected"), 1000);
        // });

        // const P9 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P9 resolved"), 2000);
        // });
        
        // Promise.race
        // Promise.race([P7, P8, P9]) // First settled
        // .then(result => console.log(result)) 
        // .catch(err => console.log(err.message)); // P8 rejected

        // const P10 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P10 resolved"), 3000);
        // });

        // const P11 = new Promise((resolve, reject) => {
        //     setTimeout(()=> reject("P8 rejected"), 1000);
        // });

        // const P13 = new Promise((resolve, reject) => {
        //     setTimeout(()=> resolve("P13 resolved"), 2000);
        // });
        
        // Promise.any
        // Promise.any([P10, P11, P13]) // First resolved
        // .then(result => console.log(result)) // P13 resolved
        // .catch(err => console.log(err.message)); // run only if all reject

        //Async / Await

        // async function functionName() {
        //     const result = await someAsyncTask();
        //     console.log(result);
        // }

        // function fetchData() {
        //     return new Promise(resolve => {
        //         setTimeout(() => resolve("Data received"), 2000);
        //     });
        // }

        // async function getData() {
        //     console.log("Fetching...");
        //     const data = await fetchData(); // pauses here
        //     console.log(data); // "Data received"
        // }

        // getData();

        //Promise hell 
        // loginUser("shivendra")
        //     .then(user => fetchProfile(user))
        //     .then(profile => fetchDashboard(profile))
        //     .then(dashboard => showDashboard(dashboard))
        //     .catch(err => console.log("Error:", err));


        //     async function handleDashboard() {
        //         try {
        //             const user = await loginUser("shivendra");
        //             const profile = await fetchProfile(user);
        //             const dashboard = await fetchDashboard(profile);
        //             showDashboard(dashboard);
        //         } catch (err) {
        //             console.log("Error:", err);
        //         }
        //     }

        // Error  handling 

        // async function fetchUserData() {
        //     try {
        //         console.log("Fetching user data...");
        //         const response = await fetch("https://dummyjson.com/carts");
        //         const data = await response.json();
        //         console.log("✅ User Data:", data);
        //     } catch (error) {
        //         console.log("Error fetching user data:", error.message);
        //     } finally {
        //         console.log("Cleanup: Closing connection or hiding loader.");
        //     }
        // }

        // fetchUserData();

        // multiple promise execution

        // const p1 = new Promise((resolve, reject) => {
        //     setTimeout(()=> {
        //         resolve("P1 Done")
        //     }, 2000);
        // })

        // const p2 = new Promise((resolve, reject) => {
        //     setTimeout(()=> {
        //         resolve("P2 Done")
        //     }, 3000);
        // })

        // async function multiplePromises() {
        //     console.log("Before Promise 1");

        //     const response1 = await p1;
        //     console.log(response1);

        //     console.log("Before Promise 2");
            
        //     const response2 = await p2;
        //     console.log(response2);

        //     console.log("End");
        // }

        // multiplePromises();

        // at top level

        // const resp = await p2;
        // console.log(resp)
    
    // Middle catch() 
    
    // Promise.resolve("Step 1")
    //     .then(res => {
    //         console.log(res);
    //         return "Step 2";
    //     })
    //     .catch(err => {
    //         // Catches errors only from Step 1 or Step 2 (above)
    //         console.log("Caught in middle:", err);
    //     })
    //     .then(res => {
    //         throw new Error("Something went wrong in Step 3");
    //     })
    //     .catch(err => {
    //         console.log("Final catch:", err.message);
    //     });

// Random questions

    // var x = 1;
    //   (function() {
    //      console.log(x);
    //      var x = 2
    // })()

// 19/06/25

    // localStorage.setItem("pass", "hello");
    // console.log(typeof localStorage.getItem("pass"));

    const arr = [1,2,3,4,5];

    const newArr = (arr) => {
        let newArr = [];

        for (let ele of arr) {
            if (ele % 2 === 0) {
                newArr.push(ele**2);
            }
        }

        return newArr;
    }

    console.log(newArr(arr));


    const modArray = arr.reduce((acc, crr) => {
            if (crr % 2 === 0) {
                acc.push(crr**2);
            }

            return acc;
    }, []);

    console.log(modArray);

    const newArr2 = arr.filter(e => e%2 === 0).map(e => e**2);
    console.log(newArr2);

    

    </script>
</body>
</html>