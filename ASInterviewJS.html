<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" onkeyup="debounce(event)" placeholder="Debouncing"/>
    <input type="text" onkeyup="throttle(event)" placeholder="throttle"/>
    <script>
        //Debouncing by a search bar with auto suggestion API calls limitations
        let counter = 0;
        function getdata(event) {
            counter++;
            console.clear();
            console.log(counter);
            console.log(event.target.value)
        }
        
        const debounceHandler = (functionToCall, delay) => {
            let timer;
            return (...args) => {
                clearTimeout(timer);
                timer = setTimeout(()=>functionToCall(...args), delay)
            }
            
        }

        const debounce = debounceHandler(getdata, 800);

        let counter2 = 0;

        function getData2(event) {
            counter2++;
            console.clear();
            console.log(counter2);
            console.log(event.target.value)
        }

        const throttleHandler = function(functionToCal, delay) {
            let isThrottle = true;

            return (...args) => {
                // let context = this;
                // let args = arguments;

                if (isThrottle) {
                    functionToCal(...args);
                    isThrottle = false;
                }

                setTimeout(() => {
                    isThrottle = true;
                }, delay);

            }
        }

        const throttle = throttleHandler(getData2, 1000);

        // let obj1 = {
        //     name : "shivendra",
        //     age : 25,

        //     method() {
        //         console.log(this.name);
        //     }
        // }

        // obj1.method();

        // let obj2 = {
        //     name : "Ritik",
        //     age : 22,
        // }

        // obj1.method.call(obj2)

    </script>
</body>
</html>